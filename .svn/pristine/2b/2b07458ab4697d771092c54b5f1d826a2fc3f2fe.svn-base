<!--
程序名：权限列表
功能：管理网站的所有功能列表
-->
<template
  ><section>
    <!--工具条-->
    <el-col
      :span="24"
      class="el-table_headtoolbar"
      style="padding-bottom: 15px;"
    >
      <el-col :span="4" :offset="20">
        <el-button plain type="primary" icon="el-icon-plus" @click="addMenu()"
          >添加功能</el-button
        >
      </el-col>
    </el-col>
    <el-table :data="menusData" :height="screenHeight" border>
      <el-table-column prop="sn" sortable label="编号" width="200">
      </el-table-column>

      <el-table-column align="right" fixed="right" width="200">
        <template slot="header" slot-scope="scope">
          <el-input
            v-model="queryJson"
            size="mini"
            placeholder="输入关键字搜索"
            :input="searchMenu(scope)"
          />
        </template>
        <template slot-scope="scope">
          <el-button size="mini" @click="handleEdit(scope.$index, scope.row)"
            >编辑</el-button
          >
          <el-button
            size="mini"
            type="danger"
            @click="handleDelete(scope.$index, scope.row)"
            >删除</el-button
          >
        </template>
      </el-table-column>
    </el-table>

    <!--保存功能链接界面-->
    <!-- <el-dialog :title="fromTitle" :visible.sync="formVisible">
      <el-form
        :model="profile"
        label-width="80px"
        :rules="profileRules"
        ref="profile"
      >
        <el-form-item label="账户" prop="account">
          <el-input v-model="profile.account" auto-complete="off"></el-input>
        </el-form-item>
        <el-form-item label="姓名" prop="fullName">
          <el-input v-model="profile.fullName"></el-input>
        </el-form-item>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button @click.native="formVisible = false">取消</el-button>
        <el-button
          type="primary"
          @click.native="formSubmit"
          :loading="formLoading"
          >提交</el-button
        >
      </div>
    </el-dialog> -->
  </section>
</template>

<script>
export default {
  data() {
    return {
      menusData: [], //菜单列表
      screenHeight: window.innerHeight - 220, //表格高度
      windowHeight: window.innerHeight, //窗口高度
      queryJson: "", //搜索条件
      formData: {
        //保存菜单信息的属性
      }
    };
  },
  mounted() {
    this.windowHeight = window.innerHeight;
    this.getNowWidowsHeight();
  },
  watch: {
    windowHeight() {
      this.changeScreenHeight();
    }
  },
  methods: {
    getMenuList() {
      this.$axios.get("/Menu/queryMenuTreeGridJson").then(res => {
        this;
      });
    },
    //当前窗口高度
    changeScreenHeight() {
      this.screenHeight = this.windowHeight - 220;
    },
    //添加功能信息
    addMenu() {},
    //删除功能信息
    handleDelete(index, row) {},
    //修改功能信息
    handleEdit(index, row) {},
    //查询功能信息
    searchMenu(scope) {}
  }
};
</script>

<style></style>
